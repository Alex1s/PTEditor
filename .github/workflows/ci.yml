name: PTEditor Test
on: [push]
defaults:
  run:
    shell: bash
    working-directory: .
jobs:
  test-module:
    runs-on: ubuntu-latest
    steps:
      - run: pwd
      - run: uname -a
      - run: ls -hal
      - run: sudo apt install gcc g++ linux-headers-$(uname -r)
      - run: make && git diff --exit-code
      - run: sudo insmod module/pteditor.ko
      - run: ./test/tests
